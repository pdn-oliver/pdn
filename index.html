
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDN 專業美甲 | 指尖上的藝術</title>
    <!-- 核心 CSS 與 字體 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    
    <!-- React, ReactDOM, Babel (轉譯 JSX) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        :root { --pdn-plum: #843346; --pdn-soft: #FFF5F7; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #fafafa; color: #1e293b; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        .bg-pdn-soft { background-color: var(--pdn-soft); }
        .text-pdn-plum { color: var(--pdn-plum); }
        .bg-pdn-plum { background-color: var(--pdn-plum); }
        .border-pdn-plum { border-color: var(--pdn-plum); }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.11.0"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <!-- 使用 Babel 處理 JSX，並宣告為模組以支援 import -->
    <script type="text/babel" data-type="module">
        import { GoogleGenAI, Type } from "@google/genai";

        // --- Constants ---
        const SERVICES = [
            { id: 's1', name: '精緻手繪藝術', price: 1800, duration: 120, description: 'Eating 專長之細膩手繪設計，包含吉卜力系列、聖誕節慶與複雜插畫。', imageUrl: 'https://images.unsplash.com/photo-1610992015732-2449b76344bc?q=80&w=1000' },
            { id: 's2', name: '質感貓眼凝膠', price: 1500, duration: 90, description: '層次豐富的貓眼光澤，搭配石紋暈染，展現優雅精緻感。', imageUrl: 'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?q=80&w=1000' },
            { id: 's3', name: '英倫格紋設計', price: 1600, duration: 100, description: '經典線條與手寫感心形點綴，打造氣質滿分的英倫風格。', imageUrl: 'https://images.unsplash.com/photo-1599406161414-0677a28e9324?q=80&w=1000' },
            { id: 's4', name: '莫蘭迪暈染', price: 1400, duration: 90, description: '如雲石與琥珀般的層次感，最適合襯托手部膚色的顯白首選。', imageUrl: 'https://images.unsplash.com/photo-1604654894610-df63bc536371?q=80&w=1000' }
        ];

        const GALLERY_IMAGES = [
            { id: 1, title: '繽紛果凍法式', url: 'https://images.unsplash.com/photo-1634712282287-14ed57b9cc89?q=80&w=1000', tag: '法式' },
            { id: 2, title: '手寫聖誕麋鹿', url: 'https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?q=80&w=1000', tag: '手繪' },
            { id: 3, title: '寶藍格紋', url: 'https://images.unsplash.com/photo-1610992015732-2449b76344bc?q=80&w=1000', tag: '格紋' },
            { id: 4, title: '吉卜力無臉男', url: 'https://images.unsplash.com/photo-1510005727932-51e913a85b9b?q=80&w=1000', tag: '手繪' },
            { id: 5, title: '銀灰貓眼', url: 'https://images.unsplash.com/photo-1519014816548-bf5fe059798b?q=80&w=1000', tag: '貓眼' }
        ];

        // --- Components ---
        const { useState, useEffect, useRef } = React;

        const Navbar = ({ path, setPath }) => (
            <nav className="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-rose-100 px-6 py-4">
                <div className="max-w-7xl mx-auto flex justify-between items-center">
                    <div className="cursor-pointer" onClick={() => setPath('home')}>
                        <span className="text-2xl font-serif font-bold text-pdn-plum">PDN <span className="font-sans font-medium text-lg">專業美甲</span></span>
                    </div>
                    <div className="hidden md:flex space-x-6 text-sm font-medium">
                        <button onClick={() => setPath('home')} className={path === 'home' ? 'text-pdn-plum' : 'text-slate-600'}>首頁</button>
                        <button onClick={() => setPath('gallery')} className={path === 'gallery' ? 'text-pdn-plum' : 'text-slate-600'}>作品集</button>
                        <button onClick={() => setPath('ai')} className={path === 'ai' ? 'text-pdn-plum' : 'text-slate-600'}>AI 諮詢</button>
                    </div>
                    <button onClick={() => setPath('booking')} className="bg-pdn-plum text-white px-6 py-2 rounded-full text-sm font-bold shadow-md">立即預約</button>
                </div>
            </nav>
        );

        const HomePage = ({ setPath }) => (
            <div className="fade-in">
                <div className="bg-pdn-soft py-20 px-6">
                    <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <h1 className="text-6xl font-serif mb-6 leading-tight">指尖上的<br/><span className="italic text-pdn-plum">極致藝術</span></h1>
                            <p className="text-slate-600 text-lg mb-8">主理人 Eating 親自設計，專注細節，將美學注入您的雙手。</p>
                            <button onClick={() => setPath('booking')} className="bg-pdn-plum text-white px-8 py-4 rounded-full font-bold shadow-xl">預約服務</button>
                        </div>
                        <img src="https://images.unsplash.com/photo-1604654894610-df63bc536371?q=80&w=1000" className="rounded-3xl shadow-2xl" />
                    </div>
                </div>
            </div>
        );

        const GalleryPage = () => (
            <div className="py-16 px-6 max-w-7xl mx-auto fade-in">
                <h2 className="text-4xl font-serif text-center mb-12">作品集</h2>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                    {GALLERY_IMAGES.map(img => (
                        <div key={img.id} className="aspect-[3/4] rounded-2xl overflow-hidden bg-slate-200 shadow-sm group relative">
                            <img src={img.url} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                            <div className="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity p-4 flex flex-col justify-end">
                                <p className="text-white font-serif">{img.title}</p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        const AIStylistPage = () => {
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const [result, setResult] = useState(null);

            const handleAnalyze = async () => {
                setLoading(true);
                try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                    const response = await ai.models.generateContent({
                        model: 'gemini-3-flash-preview',
                        contents: `你是一位美甲師。顧客說：「${input}」。請推薦顏色、款式與建議。請用 JSON 格式回應，包含 colors (array), style (string), advice (string), matchingOccasions (array)。`
                    });
                    setResult(JSON.parse(response.text));
                } catch (e) { alert('AI 忙碌中，請稍後再試。'); }
                setLoading(false);
            };

            return (
                <div className="py-16 px-6 max-w-2xl mx-auto fade-in">
                    <div className="bg-white p-8 rounded-3xl shadow-xl border border-rose-100">
                        <h2 className="text-3xl font-serif mb-6 text-center">AI 智慧美甲師</h2>
                        <textarea value={input} onChange={e => setInput(e.target.value)} placeholder="描述您的需求..." className="w-full h-32 p-4 border rounded-2xl mb-4" />
                        <button onClick={handleAnalyze} disabled={loading} className="w-full bg-pdn-plum text-white py-4 rounded-full font-bold">{loading ? '設計中...' : '開始分析'}</button>
                    </div>
                    {result && (
                        <div className="mt-8 p-8 bg-white rounded-3xl shadow-lg border-l-4 border-pdn-plum">
                            <p className="font-bold text-xl mb-2">{result.style}</p>
                            <p className="text-slate-600 mb-4">{result.advice}</p>
                            <div className="flex gap-2">
                                {result.colors.map((c, i) => <div key={i} className="w-8 h-8 rounded-full border" style={{backgroundColor: c}}></div>)}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const BookingPage = ({ setPath }) => (
            <div className="py-20 text-center fade-in">
                <h2 className="text-3xl font-serif mb-4">預約系統</h2>
                <div className="max-w-md mx-auto p-8 bg-white rounded-3xl shadow-lg">
                    <p className="text-slate-500 mb-6">請選擇您心儀的時段</p>
                    <input type="date" className="w-full p-4 border rounded-xl mb-4" />
                    <button onClick={() => {alert('預約成功！'); setPath('home')}} className="w-full bg-pdn-plum text-white py-4 rounded-full font-bold">確認預約</button>
                </div>
            </div>
        );

        // --- Main App ---
        const App = () => {
            const [path, setPath] = useState('home');

            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar path={path} setPath={setPath} />
                    <main className="flex-grow">
                        {path === 'home' && <HomePage setPath={setPath} />}
                        {path === 'gallery' && <GalleryPage />}
                        {path === 'ai' && <AIStylistPage />}
                        {path === 'booking' && <BookingPage setPath={setPath} />}
                    </main>
                    <footer className="bg-slate-900 text-white py-8 text-center text-sm">
                        <p>© 2024 PDN 專業美甲 | 臺中市北屯區軍福七路36號</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
